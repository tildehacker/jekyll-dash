<div class="toggleWrapper">
    <input type="checkbox" class="dn" id="theme-toggle" onclick="modeSwitcher()" checked />
    <label for="theme-toggle" class="toggle">
    <span class="toggle__handler">
      <span class="crater crater--1"></span>
      <span class="crater crater--2"></span>
      <span class="crater crater--3"></span>
    </span>
        <span class="star star--1"></span>
        <span class="star star--2"></span>
        <span class="star star--3"></span>
        <span class="star star--4"></span>
        <span class="star star--5"></span>
        <span class="star star--6"></span>
    </label>
</div>
<script>
let theme = localStorage.getItem('theme');
if (!theme) {
    if (document.documentElement.classList.contains('theme--light')) {
        theme = 'light';
    } else {
        theme = 'dark';
    }
}

function activateDarkTheme() {
    document.getElementById('theme-toggle').checked = true;
    document.documentElement.classList.add('theme--dark');
    document.documentElement.classList.remove('theme--light');
	document.getElementById("theme-toggle").className = 'light';
	window.localStorage.setItem('theme', 'dark');
}

function activateLightTheme() {
    document.getElementById('theme-toggle').checked = false;
    document.documentElement.classList.add('theme--light');
    document.documentElement.classList.remove('theme--dark');
	document.getElementById("theme-toggle").className = 'dark';
	window.localStorage.setItem('theme', 'light');
}

if (theme === "light") {
    activateLightTheme();
} else {
    activateDarkTheme();
}

function modeSwitcher() {
	let currentMode = localStorage.getItem('theme');
	if (currentMode === "dark") {
	    activateLightTheme();
	} else {
	    activateDarkTheme();
	}
}

var toggles = document.getElementsByClassName('toggleWrapper');
Array.from(toggles).forEach((element) => {
    element.style.display = 'inline-block';
});
</script>
